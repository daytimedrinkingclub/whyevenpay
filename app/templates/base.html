<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Why Even Pay?</title>
    <meta name="description"
        content="Find the best software solutions without breaking the bank. We've done the legwork so you don't have to.">
    <meta name="keywords" content="software solutions, affordable software, budget-friendly tools">
    <meta name="author" content="Why Even Pay?">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’°</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T58W554EG0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-T58W554EG0');
    </script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'white': '#FFFFFF',
                        'header-colors': '#99EAE5',
                        'custom-blue': '#153681',
                        'gray-300': '#D9D9D9',
                        'blue-400': '#6591F4',
                        'custom-green': '#70B990',
                        'gray-500': '#767779',
                        'custom-orange': '#B94C32',
                        'custom-yellow': '#F0DB1D',
                        'gray-100': '#F2F3F4',
                        'purple-50': '#FEF7FF',
                        'black': '#1E1E1E',
                        'custom-green-transparent': '#70B990E5',
                        'gray-600': '#73767C',
                        'red-300': '#B68B8B',
                        'custom-orange-transparent': '#B94C32E5',
                        'white-transparent': '#FFFFFFE5',
                    }
                }
            }
        }
    </script>
    <style>

    </style>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Why Even Pay?",
      "url": "https://whyevenpay.com",
      "description": "Find the best software solutions without breaking the bank. We've done the legwork so you don't have to.",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://whyevenpay.com/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
</head>

<body class="flex flex-col min-h-screen">
    <header class="bg-custom-blue text-white p-4">
        {% include 'components/header.html' %}
    </header>

    <main class="container mx-auto mt-8 px-4 flex-grow">
        {% block content %}{% endblock %}
    </main>

    <footer class="container mx-auto text-center py-4 mt-auto">
        {% include 'components/footer.html' %}
    </footer>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flashed-messages">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Replace the existing toast-container div with this -->
    <div id="toast-container" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50"></div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const flashMessages = JSON.parse('{{ get_flashed_messages(with_categories=true) | tojson | safe }}');
        const toastContainer = document.getElementById('toast-container');

        flashMessages.forEach(function([category, message]) {
          const toast = document.createElement('div');
          toast.className = `bg-${category === 'error' ? 'red' : 'green'}-500 text-white px-6 py-3 rounded-full shadow-lg mb-2 text-center`;
          toast.style.minWidth = '300px'; // Ensure a minimum width for better readability
          toast.textContent = message;
          toastContainer.appendChild(toast);

          // Fade in animation
          toast.style.opacity = '0';
          toast.style.transition = 'opacity 0.5s ease-in-out';
          setTimeout(() => { toast.style.opacity = '1'; }, 10);

          // Remove toast after 5 seconds with fade out animation
          setTimeout(function() {
            toast.style.opacity = '0';
            setTimeout(() => { toast.remove(); }, 500);
          }, 5000);
        });
      });
    </script>
</body>

</html>